{% extends "blog/base.html" %}

{% block title %}{{ category.name }} · Categories · Django Blog{% endblock %}

{% block content %}
  <h2>Category: {{ category.name }}</h2>
  {% if category.description %}<p>{{ category.description }}</p>{% endif %}

  {% if posts %}
    <ul>
      {% for p in posts %}
        <li>
          <a href="{% url 'blog:post_detail' slug=p.slug %}">{{ p.title }}</a>
          {% if p.published_at %}
            <small>— {{ p.published_at|date:"d M Y, H:i" }}</small>
          {% endif %}
        </li>
      {% endfor %}
    </ul>

    {% if is_paginated %}
      <nav>
        {% if page_obj.has_previous %}
          <a href="?page={{ page_obj.previous_page_number }}">Previous</a>
        {% endif %}
        <span>Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}</span>
        {% if page_obj.has_next %}
          <a href="?page={{ page_obj.next_page_number }}">Next</a>
        {% endif %}
      </nav>
    {% endif %}
  {% else %}
    <p>No posts in this category yet.</p>
  {% endif %}

{% endblock %}

